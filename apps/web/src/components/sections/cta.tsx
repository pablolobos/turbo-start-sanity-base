import { Badge } from "@workspace/ui/components/badge";
import { cn } from "@workspace/ui/lib/utils";
import { Github, Twitter } from "lucide-react";

import type { PagebuilderType } from "@/types";

import { CTACard } from "../cta-card";
import { RichText } from "../richtext";

const SOCIAL_LINKS = [
  {
    href: "https://github.com",
    icon: ({ className }: { className?: string }) => (
      <svg
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
        className={className}
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M20.002 0C8.95195 0 0.00195312 8.95 0.00195312 20C0.00195312 28.85 5.72695 36.325 13.677 38.975C14.677 39.15 15.052 38.55 15.052 38.025C15.052 37.55 15.027 35.975 15.027 34.3C10.002 35.225 8.70195 33.075 8.30195 31.95C8.07695 31.375 7.10195 29.6 6.25195 29.125C5.55195 28.75 4.55195 27.825 6.22695 27.8C7.80195 27.775 8.92695 29.25 9.30195 29.85C11.102 32.875 13.977 32.025 15.127 31.5C15.302 30.2 15.827 29.325 16.402 28.825C11.952 28.325 7.30195 26.6 7.30195 18.95C7.30195 16.775 8.07695 14.975 9.35195 13.575C9.15195 13.075 8.45195 11.025 9.55195 8.275C9.55195 8.275 11.227 7.75 15.052 10.325C16.652 9.875 18.352 9.65 20.052 9.65C21.752 9.65 23.452 9.875 25.052 10.325C28.877 7.725 30.552 8.275 30.552 8.275C31.652 11.025 30.952 13.075 30.752 13.575C32.027 14.975 32.802 16.75 32.802 18.95C32.802 26.625 28.127 28.325 23.677 28.825C24.402 29.45 25.027 30.65 25.027 32.525C25.027 35.2 25.002 37.35 25.002 38.025C25.002 38.55 25.377 39.175 26.377 38.975C34.518 36.2266 39.9998 28.5926 40.002 20C40.002 8.95 31.052 0 20.002 0Z"
          fill="#6B7280"
        />
      </svg>
    ),
    title: "GitHub",
    description:
      "Explore our projects, contribute, and collaborate with the community.",
  },
  {
    href: "https://reddit.com",
    icon: ({ className }: { className?: string }) => (
      <svg
        width="45"
        height="39"
        viewBox="0 0 45 39"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={className}
      >
        <path
          d="M20.6052 10.6308L22.1084 3.55882C22.5678 1.39796 24.6918 0.0185774 26.8528 0.477877L33.245 1.8366C34.1702 0.810917 35.6018 0.292877 37.05 0.600697C39.2108 1.06 40.5902 3.18408 40.131 5.34494C39.6716 7.5058 37.5476 8.88518 35.3868 8.42588C33.9386 8.11806 32.8414 7.06248 32.4134 5.7492L26.021 4.39046L24.6886 10.6596C28.2578 10.9337 31.8044 12.1216 35.0162 14.0592C36.6784 13.1353 38.6984 12.9867 40.514 13.7218C42.8462 14.666 44.4062 16.8918 44.4982 19.4062L44.4992 19.4482C44.5302 21.4554 43.618 23.3314 42.084 24.5484C42.0798 24.6356 42.0742 24.718 42.0672 24.7942C42.0672 32.7898 33.1682 38.8534 22.4704 38.8534C11.8046 38.8534 3.05386 32.8054 3.05974 24.9476C3.05046 24.8268 3.04324 24.706 3.0381 24.5852C1.43402 23.3746 0.469443 21.4554 0.500739 19.3924C0.539099 16.8634 2.06682 14.5955 4.39608 13.6098C6.21818 12.8387 8.262 12.966 9.94742 13.8876C13.2156 11.9331 16.8155 10.8248 20.6052 10.6308ZM39.177 21.682C39.9932 21.2764 40.506 20.4414 40.5002 19.5312C40.4578 18.601 39.8774 17.7794 39.013 17.4294C38.142 17.0768 37.1452 17.2686 36.4674 17.9194L35.2982 19.0414L33.958 18.1304C30.7274 15.9344 27.0542 14.6794 23.499 14.6027L21.486 14.6025C17.7358 14.659 14.1827 15.8004 11.011 17.9514L9.68492 18.8508L8.51794 17.7528C7.83002 17.1056 6.82486 16.9254 5.955 17.2936C5.08514 17.6616 4.5146 18.5086 4.5 19.453C4.48596 20.3974 5.03052 21.2614 5.88882 21.6556L7.15476 22.2372L7.04798 23.6264C7.022 23.964 7.022 24.3032 7.05386 24.7942C7.05386 30.2142 13.7663 34.8534 22.4704 34.8534C31.2122 34.8534 38.0672 30.1826 38.073 24.641C38.099 24.3032 38.099 23.964 38.073 23.6264L37.9696 22.2822L39.177 21.682ZM12.4015 21.9998C12.4015 20.343 13.7446 18.9998 15.4015 18.9998C17.0584 18.9998 18.4015 20.343 18.4015 21.9998C18.4015 23.6566 17.0584 24.9998 15.4015 24.9998C14.6058 24.9998 13.8428 24.6838 13.2802 24.1212C12.7176 23.5586 12.4015 22.7954 12.4015 21.9998ZM26.4014 21.9998C26.4014 20.343 27.7446 18.9998 29.4014 18.9998C31.0584 18.9998 32.4014 20.343 32.4014 21.9998C32.4014 23.6566 31.0584 24.9998 29.4014 24.9998C28.6058 24.9998 27.8428 24.6838 27.2802 24.1212C26.7176 23.5586 26.4014 22.7954 26.4014 21.9998ZM22.433 32.2056C19.6386 32.2056 16.8999 31.4658 14.6701 29.7856C14.3932 29.4482 14.4174 28.9558 14.726 28.6472C15.0346 28.3386 15.527 28.3144 15.8644 28.5912C17.7539 29.9772 20.11 30.5712 22.4014 30.5712C24.693 30.5712 27.0626 30.0224 28.97 28.6542C29.1946 28.4352 29.519 28.3526 29.8208 28.4376C30.1228 28.5226 30.3564 28.7622 30.4338 29.0662C30.511 29.3702 30.4034 29.6692 30.1958 29.9112C28.8276 31.5062 25.2272 32.2056 22.433 32.2056Z"
          fill="#6B7280"
        />
      </svg>
    ),
    title: "Reddit",
    description:
      "Join the conversation, share insights, and engage with our community.",
  },
  {
    href: "https://twitter.com",
    icon: ({ className }: { className?: string }) => (
      <svg
        width="40"
        height="36"
        viewBox="0 0 40 36"
        fill="none"
        className={className}
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M31.3748 0.125L21.3814 11.5485L12.7409 0.125H0.226562L15.1792 19.6774L1.00756 35.875H7.0759L18.0136 23.3772L27.5726 35.875H39.777L24.19 15.2684L37.4396 0.125H31.3748ZM29.2464 32.245L7.30872 3.56434H10.9149L32.6068 32.245H29.2464Z"
          fill="#6B7280"
        />
      </svg>
    ),
    title: "X (Formerly Twitter)",
    description:
      "Follow us for the latest updates, insights, and announcements.",
  },
  {
    href: "https://discord.com",
    icon: ({ className }: { className?: string }) => (
      <svg
        width="43"
        height="32"
        viewBox="0 0 43 32"
        fill="none"
        className={className}
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M36.1068 2.67432C33.3688 1.42206 30.461 0.5094 27.4258 0C27.0438 0.65798 26.6192 1.54942 26.322 2.24984C23.0938 1.78288 19.8888 1.78288 16.7051 2.24984C16.4079 1.54942 15.9622 0.65798 15.6014 0C12.545 0.5094 9.63722 1.42206 6.9183 2.67432C1.42106 10.7822 -0.0646826 18.699 0.678197 26.5098C4.32886 29.163 7.85224 30.776 11.314 31.8374C12.163 30.6912 12.9271 29.46 13.5851 28.1654C12.3328 27.6984 11.1442 27.1254 9.99808 26.4462C10.2952 26.234 10.5924 26.0006 10.8683 25.767C17.7876 28.9296 25.2822 28.9296 32.1164 25.767C32.4136 26.0006 32.6896 26.234 32.9868 26.4462C31.8406 27.1254 30.652 27.6984 29.3998 28.1654C30.0578 29.46 30.8218 30.6912 31.6708 31.8374C35.1304 30.776 38.675 29.163 42.3066 26.5098C43.2192 17.4682 40.8612 9.61494 36.1068 2.67432ZM14.5402 21.6918C12.4601 21.6918 10.7621 19.8028 10.7621 17.4894C10.7621 15.1758 12.4177 13.2868 14.5402 13.2868C16.6414 13.2868 18.3606 15.1758 18.3182 17.4894C18.3182 19.8028 16.6414 21.6918 14.5402 21.6918ZM28.4872 21.6918C26.407 21.6918 24.7068 19.8028 24.7068 17.4894C24.7068 15.1758 26.3646 13.2868 28.4872 13.2868C30.5884 13.2868 32.3076 15.1758 32.265 17.4894C32.265 19.8028 30.6096 21.6918 28.4872 21.6918Z"
          fill="#6B7280"
        />
      </svg>
    ),
    title: "Discord",
    description:
      "Join the discussion, ask questions, and connect with our team.",
  },
] as const;

export type CTABlockProps = PagebuilderType<"cta">;

export function CTABlock({ buttons, richText, title }: CTABlockProps) {
  return (
    <section className="my-16">
      <div className="container mx-auto px-4 md:px-6">
        <div className="flex w-full flex-col items-center">
          <div className="flex flex-col items-center space-y-4 text-center sm:space-y-6 md:text-center">
            <Badge variant="secondary">Stay informed</Badge>
            <h2 className="text-3xl font-semibold md:text-5xl">{title}</h2>
            <RichText richText={richText} />
          </div>

          {/* Social Media Grid */}
          <div className="mt-16 grid w-full grid-cols-1 gap-4 lg:gap-1 sm:grid-cols-2 lg:grid-cols-4">
            {SOCIAL_LINKS.map((link, idx) => (
              <CTACard
                key={link.href}
                {...link}
                className={cn(
                  "hover:bg-accent/80",
                  idx === 0 && "lg:rounded-l-3xl lg:rounded-r-none",
                  idx === SOCIAL_LINKS.length - 1 &&
                    "lg:rounded-r-3xl lg:rounded-l-none",
                  idx !== 0 &&
                    idx !== SOCIAL_LINKS.length - 1 &&
                    "lg:rounded-none",
                )}
              />
            ))}
          </div>

          {/* {buttons && <SanityButtons buttons={buttons} className="mt-8" />} */}
        </div>
      </div>
    </section>
  );
}
